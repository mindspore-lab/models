# ğŸ§  Aspect-Based Sentiment Analysis with TextCNN (MindSpore)

æœ¬é¡¹ç›®åŸºäº **MindSpore æ¡†æ¶**ï¼Œå®ç°äº†ä¸€ä¸ªè½»é‡çº§çš„ **æƒ…æ„Ÿææ€§åˆ†ç±»ç³»ç»Ÿ**ï¼Œæ”¯æŒå¤šä¸ªå…¸å‹æƒ…æ„Ÿåˆ†ææ•°æ®é›†çš„åŠ è½½ã€å¤„ç†ã€è®­ç»ƒä¸è¯„ä¼°ï¼Œå¹¶é‡‡ç”¨ **TextCNN** æ¶æ„è¿›è¡Œå»ºæ¨¡ã€‚

## âœ… ç‰¹æ€§ Highlights

- ğŸ“¦ **æ”¯æŒæ•°æ®é›†**ï¼š
  - SemEval-2014 Task 4 (Laptops)
  - MAMS-ATSA
  - SST-2ï¼ˆè‡ªåŠ¨å…¼å®¹ `.parquet` è½¬ JSONï¼‰

- ğŸ”¨ **ç»Ÿä¸€æ•°æ®é¢„å¤„ç†æ¨¡å—**ï¼š
  - å¤šæ ¼å¼æ”¯æŒï¼ˆCSV / XML / JSONL / Parquetï¼‰
  - å¤„ç†ç»“æœç»Ÿä¸€è½¬ä¸º JSON æ ¼å¼

- âš™ï¸ **æ¨¡å‹æ¶æ„**ï¼š
  - è½»é‡åŒ– TextCNN
  - æ”¯æŒ Dropout / Weight Decay æ­£åˆ™åŒ–
  - å¯å¿«é€Ÿåœ¨ CPU ä¸Šè®­ç»ƒ

- ğŸ“Š **å®Œæ•´è¯„ä¼°æŒ‡æ ‡è¾“å‡º**ï¼š
  - å‡†ç¡®ç‡ / ç²¾ç¡®ç‡ / å¬å›ç‡ / F1
  - æ¯ä¸ªæ•°æ®é›†ç‹¬ç«‹æ—¥å¿— & æœ€ç»ˆæ±‡æ€»ä¸º CSV

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ data/                       # æ•°æ®é¢„å¤„ç†ï¼ˆå¤šæ ¼å¼ â†’ JSONï¼‰
â”‚   â”œâ”€â”€ MAMS                    # MAMSæ•°æ®é›†
â”‚   â”œâ”€â”€ SemEval_2014_Task_4     # SemEvalæ•°æ®é›†
â”‚   â””â”€â”€ sst-2                   # sst-2æ•°æ®é›†
â”œâ”€â”€ processed/                  # å­˜å‚¨å¤„ç†å¥½çš„ JSON æ ¼å¼æ•°æ®é›†
â”‚   â”œâ”€â”€ mams                    # MAMSæ•°æ®é›†
â”‚   â”œâ”€â”€ semeval                 # SemEvalæ•°æ®é›†
â”‚   â””â”€â”€ sst2                    # sst-2æ•°æ®é›†
â”œâ”€â”€ train.py                    # TextCNN æ¨¡å‹è®­ç»ƒå…¥å£
â”œâ”€â”€ dataset.py                  # æ•°æ®åŠ è½½å™¨ + è¯è¡¨æ„å»º
â””â”€â”€ README.md
```

## ğŸš€ ä½¿ç”¨è¯´æ˜

### âœ… 1. æ•°æ®é¢„å¤„ç†

è¯·å°†åŸå§‹æ•°æ®æ”¾å…¥æŒ‡å®šç›®å½•ï¼Œç„¶åè¿è¡Œï¼š

```bash
python dataset.py
```

å°†è‡ªåŠ¨å¤„ç†ä»¥ä¸‹æ•°æ®é›†å¹¶è½¬æ¢ä¸º JSON æ ¼å¼ï¼š

- `data/SemEval_2014_Task_4/`
- `data/MAMS/MAMS-ATSA/raw/`
- `data/SST2/`

### âœ… 2. æ¨¡å‹è®­ç»ƒ

è¿è¡Œä¸»è®­ç»ƒè„šæœ¬ï¼š

```bash
python train.py
```

å°†ä¾æ¬¡è®­ç»ƒä»¥ä¸‹æ•°æ®é›†ï¼š

- `semeval`
- `mams`
- `sst2`

æ¯ä¸ªæ•°æ®é›†ï¼š

- è‡ªåŠ¨æ„å»ºè¯è¡¨ï¼›
- åˆ’åˆ†è®­ç»ƒ/éªŒè¯é›†ï¼ˆæ¯”ä¾‹ 8:1:1ï¼‰ï¼›
- è¾“å‡ºæ—¥å¿—è‡³ `log_*.txt`ï¼›
- å°†è¯„ä¼°æŒ‡æ ‡æ±‡æ€»è‡³ `results_summary.csv`ã€‚

## ğŸ“Š ç¤ºä¾‹è¯„ä¼°ç»“æœï¼ˆ`results_summary.csv`ï¼‰

| æ•°æ®é›†  | Acc  | Prec | Recall | F1   |
| ------- | ---- | ---- | ------ | ---- |
| semeval | 0.71 | 0.69 | 0.68   | 0.69 |
| mams    | 0.61 | 0.59 | 0.60   | 0.59 |
| sst2    | 0.86 | 0.85 | 0.86   | 0.85 |

## ğŸ› ï¸ ç¯å¢ƒä¾èµ–

- Python â‰¥ 3.9
- MindSpore â‰¥ 2.5.0 (CPU)
- numpy, pandas, scikit-learn, tqdm
- pyarrowï¼ˆç”¨äºè¯»å– `.parquet`ï¼‰

å®‰è£…ä¾èµ–ï¼š

```bash
pip install -r requirements.txt
```

## ğŸ“Œ æ³¨æ„äº‹é¡¹

- å¦‚æœä¸ä½¿ç”¨ `sst2` æ•°æ®é›†ï¼Œå¯åœ¨ `train.py` ä¸­ç§»é™¤å¯¹åº”è¡Œï¼›
- SST-2 é»˜è®¤ä½¿ç”¨ `train.json` åˆ’åˆ†è®­ç»ƒ/éªŒè¯é›†

## ğŸ“š å‚è€ƒæ–‡çŒ®

- Kim, Y. (2014). *Convolutional Neural Networks for Sentence Classification*.
- Socher, R. et al. (2013). *Recursive Deep Models for Semantic Compositionality Over a Sentiment Treebank*.